// These are just commands when i created the databse to change things easier
DROP TABLE users;
DROP TABLE user_details;
DROP TABLE catalogues;

CREATE TABLE users (
id INTEGER PRIMARY KEY AUTOINCREMENT,
username VARCHAR(10) NOT NULL UNIQUE,
password VARCHAR(10) NOT NULL);

INSERT INTO users (username, password)VALUES('Tim','pass');
INSERT INTO users (username, password)VALUES('Blake','pass');

CREATE TABLE user_details (
id INTEGER PRIMARY KEY,
company_name_short VARCHAR(10),
company_name_long VARCHAR(10),
phone_number VARCHAR(10),
address VARCHAR(10),
color_1 VARCHAR(10),
color_2 VARCHAR(10),
logo_url VARCHAR(10),
FOREIGN KEY(id) REFERENCES users(id));

INSERT INTO user_details (id,company_name_short,company_name_long,phone_number,address,color_1,color_2,logo_url)
VALUES('1','aa','bb','cc','dd','ee','ff','gg');
INSERT INTO user_details (id,company_name_short,company_name_long,phone_number,address,color_1,color_2,logo_url)
VALUES('2','aa','bb','cc','dd','ee','ff','gg');

CREATE TABLE products (
id INTEGER PRIMARY KEY AUTOINCREMENT,
product_code VARCHAR(10),
product_name VARCHAR(10),
product_description_short VARCHAR(10),
product_description_long VARCHAR(10),
product_img_urls VARCHAR(10),
product_category VARCHAR(10),
product_brand VARCHAR(10),
product_specs VARCHAR(10));

INSERT INTO products (product_code,product_name)VALUES('xxx','product_1');
INSERT INTO products (product_code,product_name)VALUES('qqq','product_2');
INSERT INTO products (product_code,product_name)VALUES('zzz','product_3');
INSERT INTO products (product_code,product_name)VALUES('zzz','product_4');

CREATE TABLE catalogues (
user_id INTEGER,
product_id INTEGER,
PRIMARY KEY(user_id,product_id),
FOREIGN KEY(user_id) REFERENCES users(id),
FOREIGN KEY(product_id) REFERENCES products(id));

INSERT INTO catalogues (user_id, product_id)VALUES('1','1');
INSERT INTO catalogues (user_id, product_id)VALUES('1','2');
INSERT INTO catalogues (user_id, product_id)VALUES('1','3');
INSERT INTO catalogues (user_id, product_id)VALUES('1','4');
INSERT INTO catalogues (user_id, product_id)VALUES('2','1');
INSERT INTO catalogues (user_id, product_id)VALUES('2','2');
INSERT INTO catalogues (user_id, product_id)VALUES('2','3');

SELECT
users.username,
products.product_name,
products.product_code
FROM catalogues
JOIN users
ON catalogues.user_id = users.id
JOIN products
ON catalogues.product_id = products.id WHERE users.id == '1';

UPDATE user_details
SET phone_number = '000', color_1 = 'ccc',
WHERE id == '1';